# XU-News-AI-RAG å‰ç«¯ç³»ç»Ÿ

ä¸ªæ€§åŒ–æ–°é—»æ™ºèƒ½çŸ¥è¯†åº“ç³»ç»Ÿ - Vue 3 å‰ç«¯åº”ç”¨

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ XU-News-AI-RAG ç³»ç»Ÿçš„å‰ç«¯éƒ¨åˆ†ï¼ŒåŸºäº Vue 3 + Element Plus æ„å»ºï¼Œæä¾›ç”¨æˆ·å‹å¥½çš„ç•Œé¢æ¥ç®¡ç†æ–°é—»çŸ¥è¯†åº“ã€æ‰§è¡Œæ™ºèƒ½æ£€ç´¢å’ŒæŸ¥çœ‹æ•°æ®åˆ†æã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. ç”¨æˆ·è®¤è¯ âœ…
- ç”¨æˆ·æ³¨å†Œï¼ˆç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ï¼‰
- ç”¨æˆ·ç™»å½•ï¼ˆJWT Tokenè®¤è¯ï¼‰
- ä¼šè¯ä¿æŒ
- å®‰å…¨é€€å‡º

### 2. çŸ¥è¯†åº“ç®¡ç† âœ…
- **æ–‡æ¡£åˆ—è¡¨å±•ç¤º**
  - åˆ†é¡µæ˜¾ç¤ºï¼ˆé»˜è®¤æ¯é¡µ20æ¡ï¼‰
  - å¤šç»´åº¦ç­›é€‰ï¼ˆåˆ†ç±»ã€æ—¶é—´èŒƒå›´ï¼‰
  - å®æ—¶åˆ·æ–°
  
- **æ–‡æ¡£æ“ä½œ**
  - å•æ¡åˆ é™¤ï¼ˆäºŒæ¬¡ç¡®è®¤ï¼‰
  - æ‰¹é‡åˆ é™¤
  - å…ƒæ•°æ®ç¼–è¾‘ï¼ˆæ ‡é¢˜ã€åˆ†ç±»ã€æ ‡ç­¾ã€å¤‡æ³¨ï¼‰
  - æ–‡æ¡£è¯¦æƒ…æŸ¥çœ‹
  
- **æ–‡ä»¶ä¸Šä¼ **
  - æ”¯æŒæ ¼å¼ï¼šPDFã€DOCXã€TXTã€Excelã€Markdown
  - æ‹–æ‹½ä¸Šä¼ 
  - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
  - åˆ†ç±»ç®¡ç†

### 3. æ™ºèƒ½æ£€ç´¢ âœ…
- **å¤šç§æ£€ç´¢æ¨¡å¼**
  - è¯­ä¹‰æ£€ç´¢ï¼ˆåŸºäºå‘é‡ç›¸ä¼¼åº¦ï¼‰
  - è”ç½‘æœç´¢ï¼ˆå®æ—¶ç½‘ç»œæŸ¥è¯¢ï¼‰
  - æ™ºèƒ½ç»„åˆï¼ˆçŸ¥è¯†åº“+ç½‘ç»œï¼‰
  
- **æœç´¢é…ç½®**
  - ç›¸ä¼¼åº¦é˜ˆå€¼è°ƒæ•´
  - æœç´¢å†å²è®°å½•
  - ç»“æœé«˜äº®æ˜¾ç¤º
  
- **ç»“æœå±•ç¤º**
  - ç›¸ä¼¼åº¦è¯„åˆ†
  - åˆ†ç±»æ ‡ç­¾
  - æ—¶é—´æ’åº

### 4. æ•°æ®åˆ†æ âœ…
- **å®æ—¶ç»Ÿè®¡**
  - æ–‡æ¡£æ€»æ•°
  - è¿‘7å¤©æ–°å¢
  - å‘é‡ç´¢å¼•å¤§å°
  - åˆ†ç±»æ•°é‡
  
- **å¯è§†åŒ–å›¾è¡¨**
  - åˆ†ç±»åˆ†å¸ƒé¥¼å›¾
  - æ¥æºåˆ†å¸ƒé¥¼å›¾
  - Top10å…³é”®è¯æŸ±çŠ¶å›¾
  - æ—¶é—´è¶‹åŠ¿æŠ˜çº¿å›¾
  
- **ç»¼åˆæŠ¥å‘Š**
  - å…³é”®è¯æå–åˆ†æ
  - å¤šç»´åº¦æ•°æ®ç»Ÿè®¡
  - æ—¶é—´èŒƒå›´ç­›é€‰

## ğŸ›  æŠ€æœ¯æ ˆ

- **æ ¸å¿ƒæ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite 4
- **UIç»„ä»¶åº“**: Element Plus 2.3
- **çŠ¶æ€ç®¡ç†**: Pinia 2
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾è¡¨åº“**: ECharts 5 + Vue-ECharts
- **æ—¥æœŸå¤„ç†**: Day.js
- **åŠ è½½è¿›åº¦**: NProgress

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/               # APIæ¥å£
â”‚   â”‚   â””â”€â”€ index.js      # APIå°è£…
â”‚   â”œâ”€â”€ assets/           # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ MainLayout.vue
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ user.js
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ request.js    # Axioså°è£…
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.vue     # ç™»å½•/æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ Documents.vue # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Search.vue    # æ™ºèƒ½æ£€ç´¢
â”‚   â”‚   â””â”€â”€ Analysis.vue  # æ•°æ®åˆ†æ
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html
â”œâ”€â”€ vite.config.js        # Viteé…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
cd frontend
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨å°†è¿è¡Œåœ¨ `http://localhost:3000`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `dist/` ç›®å½•

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## âš™ï¸ é…ç½®è¯´æ˜

### APIä»£ç†é…ç½®

åœ¨ `vite.config.js` ä¸­é…ç½®åç«¯APIä»£ç†ï¼š

```javascript
export default defineConfig({
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:5000',  // åç«¯åœ°å€
        changeOrigin: true
      }
    }
  }
})
```

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# åº”ç”¨æ ‡é¢˜
VITE_APP_TITLE=XU-News-AI-RAG

# APIåŸºç¡€URLï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨ä»£ç†ï¼‰
VITE_API_BASE_URL=http://localhost:5000/api
```

## ğŸ“± é¡µé¢è·¯ç”±

| è·¯å¾„ | é¡µé¢ | è¯´æ˜ | è®¤è¯ |
|------|------|------|------|
| `/login` | ç™»å½•/æ³¨å†Œ | ç”¨æˆ·è®¤è¯é¡µé¢ | âŒ |
| `/documents` | çŸ¥è¯†åº“ç®¡ç† | æ–‡æ¡£CRUDæ“ä½œ | âœ… |
| `/search` | æ™ºèƒ½æ£€ç´¢ | è¯­ä¹‰æ£€ç´¢å’Œè”ç½‘æœç´¢ | âœ… |
| `/analysis` | æ•°æ®åˆ†æ | ç»Ÿè®¡å›¾è¡¨å’ŒæŠ¥å‘Š | âœ… |

## ğŸ” è®¤è¯æµç¨‹

### ç™»å½•

1. ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
2. è°ƒç”¨ `/api/auth/login` æ¥å£
3. åç«¯è¿”å› JWT Token
4. Token å­˜å‚¨åœ¨ localStorage
5. è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ

### Tokenç®¡ç†

```javascript
// è‡ªåŠ¨æ·»åŠ Tokenåˆ°è¯·æ±‚å¤´
axios.interceptors.request.use(config => {
  const token = localStorage.getItem('access_token')
  if (token) {
    config.headers['Authorization'] = `Bearer ${token}`
  }
  return config
})

// 401è‡ªåŠ¨è·³è½¬ç™»å½•
axios.interceptors.response.use(
  response => response,
  error => {
    if (error.response?.status === 401) {
      router.push('/login')
    }
    return Promise.reject(error)
  }
)
```

## ğŸ“¡ APIæ¥å£å¯¹æ¥

### æ¥å£åŸºç¡€URL

```
å¼€å‘ç¯å¢ƒ: http://localhost:5000/api (é€šè¿‡Viteä»£ç†)
ç”Ÿäº§ç¯å¢ƒ: æ ¹æ®éƒ¨ç½²é…ç½®
```

### ä¸»è¦æ¥å£

#### è®¤è¯ç›¸å…³
- `POST /auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `GET /auth/me` - è·å–ç”¨æˆ·ä¿¡æ¯
- `POST /auth/logout` - ç”¨æˆ·ç™»å‡º

#### æ–‡æ¡£ç®¡ç†
- `GET /documents/` - è·å–æ–‡æ¡£åˆ—è¡¨
- `GET /documents/:id` - è·å–æ–‡æ¡£è¯¦æƒ…
- `PUT /documents/:id` - æ›´æ–°æ–‡æ¡£
- `DELETE /documents/:id` - åˆ é™¤æ–‡æ¡£
- `POST /documents/batch-delete` - æ‰¹é‡åˆ é™¤
- `POST /documents/upload` - ä¸Šä¼ æ–‡æ¡£
- `GET /documents/categories` - è·å–åˆ†ç±»åˆ—è¡¨

#### æœç´¢åŠŸèƒ½
- `POST /search/semantic` - è¯­ä¹‰æ£€ç´¢
- `POST /search/web` - è”ç½‘æœç´¢
- `POST /search/combined` - ç»„åˆæœç´¢
- `GET /search/history` - æœç´¢å†å²

#### æ•°æ®åˆ†æ
- `GET /analysis/stats` - ç»Ÿè®¡ä¿¡æ¯
- `POST /analysis/keywords` - å…³é”®è¯æå–
- `GET /analysis/category-distribution` - åˆ†ç±»åˆ†å¸ƒ
- `GET /analysis/source-distribution` - æ¥æºåˆ†å¸ƒ
- `GET /analysis/time-trend` - æ—¶é—´è¶‹åŠ¿
- `GET /analysis/report` - ç»¼åˆæŠ¥å‘Š

## ğŸ¨ UIç»„ä»¶

### Element Plus

æœ¬é¡¹ç›®ä½¿ç”¨ Element Plus ä½œä¸ºUIç»„ä»¶åº“ï¼Œä¸»è¦ç»„ä»¶åŒ…æ‹¬ï¼š

- **å¸ƒå±€**: Container, Header, Aside, Main
- **è¡¨å•**: Form, Input, Select, Upload, DatePicker
- **æ•°æ®å±•ç¤º**: Table, Pagination, Tag, Card, Descriptions
- **åé¦ˆ**: Message, MessageBox, Loading, Progress
- **å¯¼èˆª**: Menu, Breadcrumb, Dropdown
- **å›¾è¡¨**: é›†æˆ ECharts

### å›¾è¡¨é…ç½®

ä½¿ç”¨ Vue-ECharts å°è£… EChartsï¼š

```vue
<template>
  <v-chart :option="chartOption" style="height: 400px" />
</template>

<script setup>
import VChart from 'vue-echarts'
import { use } from 'echarts/core'
import { PieChart } from 'echarts/charts'
import { TooltipComponent } from 'echarts/components'

use([PieChart, TooltipComponent])

const chartOption = ref({
  // EChartsé…ç½®
})
</script>
```

## ğŸ” åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### 1. æ–‡æ¡£ä¸Šä¼ 

1. ç‚¹å‡»"ä¸Šä¼ æ–‡æ¡£"æŒ‰é’®
2. é€‰æ‹©åˆ†ç±»ï¼ˆå¯æ–°å»ºï¼‰
3. é€‰æ‹©æ–‡ä»¶ï¼ˆæ”¯æŒPDFã€Wordç­‰ï¼‰
4. ç‚¹å‡»ä¸Šä¼ 
5. ç­‰å¾…è§£æå®Œæˆ

### 2. æ™ºèƒ½æ£€ç´¢

1. è¾“å…¥æœç´¢å…³é”®è¯
2. é€‰æ‹©æ£€ç´¢æ¨¡å¼ï¼š
   - è¯­ä¹‰æ£€ç´¢ï¼šä»…æœç´¢çŸ¥è¯†åº“
   - æ™ºèƒ½ç»„åˆï¼šä¼˜å…ˆçŸ¥è¯†åº“ï¼Œä¸è¶³æ—¶è”ç½‘
   - è”ç½‘æœç´¢ï¼šç›´æ¥ç½‘ç»œæœç´¢
3. è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆå¯é€‰ï¼‰
4. æŸ¥çœ‹ç»“æœ

### 3. æ•°æ®åˆ†æ

- **ç»Ÿè®¡å¡ç‰‡**ï¼šæ˜¾ç¤ºå®æ—¶ç»Ÿè®¡æ•°æ®
- **åˆ†ç±»/æ¥æºåˆ†å¸ƒ**ï¼šé¥¼å›¾å±•ç¤ºæ•°æ®åˆ†å¸ƒ
- **å…³é”®è¯åˆ†æ**ï¼šæŸ±çŠ¶å›¾æ˜¾ç¤ºçƒ­é—¨è¯æ±‡
- **æ—¶é—´è¶‹åŠ¿**ï¼šæŠ˜çº¿å›¾å±•ç¤ºæ•°æ®å¢é•¿
- **ç»¼åˆæŠ¥å‘Š**ï¼šè¯¦ç»†çš„åˆ†ææŠ¥å‘Š

## ğŸ› æ•…éšœæ’æŸ¥

### æ— æ³•è¿æ¥åç«¯

1. ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨
2. æ£€æŸ¥ä»£ç†é…ç½®ï¼ˆvite.config.jsï¼‰
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

### Tokenè¿‡æœŸ

- è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
- é‡æ–°ç™»å½•å³å¯

### æ–‡ä»¶ä¸Šä¼ å¤±è´¥

1. æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆ<50MBï¼‰
2. ç¡®è®¤æ–‡ä»¶æ ¼å¼æ”¯æŒ
3. æŸ¥çœ‹åç«¯æ—¥å¿—

### å›¾è¡¨ä¸æ˜¾ç¤º

1. æ£€æŸ¥æ•°æ®æ˜¯å¦åŠ è½½æˆåŠŸ
2. ç¡®è®¤ ECharts ç»„ä»¶å·²æ­£ç¡®å¯¼å…¥
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°

- âœ… è·¯ç”±æ‡’åŠ è½½
- âœ… ç»„ä»¶æŒ‰éœ€å¯¼å…¥
- âœ… APIè¯·æ±‚æ‹¦æˆªå’Œç¼“å­˜
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¯é€‰ï¼‰

### å»ºè®®ä¼˜åŒ–

- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–å¤§åˆ—è¡¨
- å¯ç”¨ PWA æ”¯æŒ
- å®ç°æ•°æ®ç¼“å­˜ç­–ç•¥
- æ·»åŠ éª¨æ¶å±åŠ è½½

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- âœ… JWT Tokenè®¤è¯
- âœ… è·¯ç”±æƒé™å®ˆå«
- âœ… XSSé˜²æŠ¤ï¼ˆVueè‡ªåŠ¨è½¬ä¹‰ï¼‰
- âœ… HTTPSéƒ¨ç½²ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âœ… Tokenè‡ªåŠ¨åˆ·æ–°æœºåˆ¶

## ğŸŒ æµè§ˆå™¨å…¼å®¹

- Chrome >= 90
- Firefox >= 88
- Safari >= 14
- Edge >= 90

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

```bash
# ESLintæ£€æŸ¥
npm run lint
```

### Gitæäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»º/å·¥å…·
```

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### ä½¿ç”¨Nginx

1. æ„å»ºé¡¹ç›®ï¼š
```bash
npm run build
```

2. Nginxé…ç½®ï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;

    root /path/to/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://backend:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### ä½¿ç”¨Docker

```dockerfile
FROM node:18-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

XU AI Team

## ğŸ“ è”ç³»æ–¹å¼

- æŠ€æœ¯æ”¯æŒï¼šæŸ¥çœ‹ [åç«¯README](../backend/README.md)
- é—®é¢˜åé¦ˆï¼šæäº¤ Issue

---

**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-01  
**æ–‡æ¡£çŠ¶æ€**: âœ… å®Œæ•´


